@using Auth0_Blazor.Services
@inject NotificationService NotificationService
@namespace Components

@if (!string.IsNullOrEmpty(_message))
{
    <div style="position:fixed;top:16px;right:16px;z-index:9999;padding:12px 24px;background:#2196f3;color:white;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.15);">
        @_message
    </div>
}

@code {
    private string? _message;

    protected override void OnInitialized()
    {
        NotificationService.OnNotify += Show;
    }

    private async void Show(string message)
    {
        await InvokeAsync(() => {
            _message = message;
            StateHasChanged();
        });
        // Dölj efter x sekunder om du vill
    }

    public void Dispose()
    {
        NotificationService.OnNotify -= Show;
    }
}