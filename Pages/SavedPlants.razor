@page "/savedPlants"
@using MudBlazor.Extensions

@inject Services.UserService UserService

@*
<h3>Din Auth0-användar-id:</h3>
@if (UserId is null)
{
    <p>Du är inte inloggad.</p>
}
else
{
    <p>@UserId</p>
}*@
<AuthorizeView>
    <Authorized Context="authContext">
        <h3>Ditt Auth0-användar-id:</h3>
        <p>@authContext.User.FindFirst("sub")?.Value</p>
        <p>Inloggad med: @authContext.User.Identity?.AuthenticationType</p>
    </Authorized>
    <NotAuthorized>
        <p>Du är inte inloggad.</p>
    </NotAuthorized>
</AuthorizeView>

@code {
    private string? UserId;

    protected override async Task OnInitializedAsync()
    {
        UserId = await UserService.GetUserIdAsync();
    }
}